<div class="row justify-content-center w-100">
  <div class="col-11 row justify-content-center">
    <form
      [formGroup]="mainDeckInfosForm"
      (ngSubmit)="validateMainDeckInfos()"
      class="col-12 row justify-content-center"
    >
      <div class="mt-3 ms-3 d-flex justify-content-center">
        <div class="col-6">
          <label for="name" class="form-label ms-2">{{ mainDeckInfosLibelle.NAME }}</label>
          <input type="text" class="form-control" id="name" formControlName="name" />
          <invalid-feedback
            [formGroup]="mainDeckInfosForm"
            [controlName]="'name'"
          ></invalid-feedback>
        </div>
      </div>
      <div class="col-9 mt-5 ms-3 row">
        <div class="mb-4 d-flex justify-content-center">
          <div class="text-center">
            <h2 class="h4 border-bottom border-secondary d-inline-block pb-2 px-4">
              {{ mainDeckInfosLibelle.CHOOSE_YOUR_FACTION }}
            </h2>
          </div>
        </div>
        <div class="col-12 row">
          @for (faction of factions(); track faction.name) {
          <div class="col-2">
            <input
              type="radio"
              class="btn-check button-style"
              [id]="faction.id"
              formControlName="faction"
              [value]="faction.id"
              autocomplete="off"
              (change)="onSelectFaction(faction.id)"
            />
            <label
              class="label d-flex flex-column align-items-center text-center p-4 h-100 w-100"
              [for]="faction.id"
              [style.--theme-color]="faction.color"
              [style.--theme-color-glow]="fromHexaToRGBA(faction.color)"
            >
              <img [src]="fixFactionIcon(faction.name)" class="faction-img" />

              <h3 class="h5 fw-bold text-white text-uppercase mb-2 mt-3">{{ faction.name }}</h3>
            </label>
          </div>
          }
        </div>
      </div>
      @if (availableHeroes().length > 0) {
      <div class="mt-5">
        <div class="col-12">
          <div class="hero-section">
            <div class="text-center ms-4">
              <h2 class="h4 border-bottom border-secondary d-inline-block pb-2 px-4">
                {{ mainDeckInfosLibelle.CHOOSEE_YOUR_HERO }}
              </h2>
            </div>

            <div class="hero-container">
              @for (hero of availableHeroes(); track hero.id) {

              <div class="hero-card">
                <input
                  type="radio"
                  class="btn-check"
                  [id]="hero.id"
                  formControlName="hero"
                  [value]="hero.id"
                  autocomplete="off"
                />

                <label
                  class="hero-label w-100"
                  [for]="hero.id"
                  [style.--theme-color]="giveFactionColor()"
                  [style.--theme-color-glow]="giveFactionColorToGlow()"
                >
                  <img
                    src="{{`${backApiRoads.ROOT_URL}/images/cards/${hero.image}.jpg`}}"
                    alt="{{ hero.name }}"
                    class="hero-img"
                  />
                </label>
              </div>
              }
            </div>
          </div>
        </div>
      </div>
      <div class="col-6 row mt-4 ms-4 mb-4 justify-content-center">
        <button type="submit" class="btn btn-primary col-5" [disabled]="mainDeckInfosForm.invalid">
          {{ mainDeckInfosLibelle.ACTION_BUTTON }}
        </button>
      </div>
      }
    </form>
  </div>
</div>
